{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app.pkgd.js","src/js/App.js","src/js/Article.js","src/js/History.js","src/js/Index.js","src/js/Layout.js","src/js/Loading.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","$","window","layout","index","article","hist","url","location","pathname","search","currentUrl","modules","CSS3","isSupport","addClass","$header","init","setEventGnbFromMobile","selector_toggleButtons","find","selector_targetElements","initScrollEventFromHeader","$photoIndex","initLoading","children","setMasonry","masonryOption","itemSelector","columnWidth","transitionDuration","hiddenStyle","visibleStyle","delay","showClassName","$grid","$moreItem","userData","preference","print_moreitem","isNextpage","loadMoreItems","$paginate","print_paginate","isPaginate","initPaginateEvent","replace","target","$article","initPopEvent","this","self","./Article.js","./History.js","./Index.js","./Layout.js",2,"Loading","$body","$modal","scrollTop","isModal","saveURL","loading","actResize","keyboardEvent","getThis","on","$externalButtons","keyCode","onClose","onGo","filter","get","off","getCookie","name","cookieData","document","cookie","start","indexOf","value","end","substring","setCookie","cDay","expire","Date","cookies","setDate","getDate","toGMTString","$getArticle","initButtonsEvent","initResizeEvent","onLike","btn","currentTarget","srl","parseInt","getAttribute","environment","root","jQuery","ajax","method","dataType","headers","Accept","meta","headerKey","done","response","state","$like","count_like","text","prop","log","fail","responseText","_this","_this2","one","modalTemplate","open","_this3","append","params","nest","category","setTimeout","transitionEnd","removeClass","show","load","res","hide","destroyScrollEventFromHeader","push","close","attr","href","_this4","scrollTopInModal","refreshMasonry","remove","go","reload","_this5","$wrap","html","./Loading.js",3,"support","history","pushState","title","replaceState","originalEvent",4,"$loading","masonryDelay","$target","options","$items","imagesLoaded","masonry","playGridItem","gotoArticle","destroyMasonry","className","each","k","template","data","ev","map","img","gooseRoot","json","thumnail","hit","like","join","addItems","callback","query","undefined","keyword","page","getJSON","refreshItems","isAddItems","articles","pageNavigation","updatePaginate","nextpage","hasClass","updateMoreItemButton","message","alert","$el","$self","updateURL","nextPage","$buttons","body","str","prev","id","active","next",5,"$dom","header","$navToggleButtons","$toggleTargets","$current","hideHeader","$window","timestamp","sctop","height","timeStamp",6,"full"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,EAAAU,EAAAJ,ICCA,SAAWK,GACX,YCFA,IAAMC,GAAA,mBAAYC,QAAZA,OAAA,EAAA,mBAAAF,GAAAA,EAAA,EAAA,KACAG,EAASd,EAAQ,eACjBe,EAAQf,EAAQ,cAChBgB,EAAUhB,EAAQ,gBAClBiB,EAAOjB,EAAQ,gBAGjBkB,EAAMC,SAASC,SAAWD,SAASE,MAEvCR,QAAOS,WAAaJ,EACpBL,OAAOU,SACNR,MAAQA,EACRC,QAAUA,EACVF,OAASA,GAKNU,KAAKC,aAAab,EAAE,QAAQc,SAAS,OAOzC,IAAIC,GAAUf,EAAE,UACZe,GAAQnB,SAEXM,EAAOc,MACND,QAAUA,IAFZb,EAMQe,uBACNC,uBAAwBH,EAAQI,KAAK,4BACrCC,wBAAyBL,EAAQI,KAAK,qCARxCjB,EAYQmB,4BAQR,IAAIC,GAActB,EAAE,cACpB,IAAIsB,EAAY1B,OAChB,CAECO,EAAMoB,YAAYD,EAAYE,SAAS,kBAFxCrB,EAKOsB,YACLC,eACCC,aAAc,aACdC,YAAa,cACbC,mBAAqB,KACrBC,eACAC,iBAEDC,MAAQ,IACRC,cAAgB,OAChBC,MAAQZ,EAAYE,SAAS,WAf/B,IAmBKW,GAAYb,EAAYE,SAAS,aACjCY,UAASC,WAAWlC,MAAMmC,gBAAkBH,EAAUvC,SAEzDO,EAAMoC,YAAa,EACnBpC,EAAMqC,cAAcL,EAAUX,SAAS,WAvBzC,IA2BKiB,GAAYnB,EAAYE,SAAS,YACjCY,UAASC,WAAWlC,MAAMuC,gBAAkBD,EAAU7C,SAEzDO,EAAMwC,YAAa,EACnBxC,EAAMsC,UAAYA,EAClBtC,EAAMyC,kBAAkBzC,EAAMsC,UAAUtB,KAAK,OAhC/Cd,EAoCMwC,SAAUC,OAAS,QAASxC,IAAMA,GAAOA,EAAKA,GAQpD,GAAIyC,GAAW/C,EAAE,WACb+C,GAASnD,SAEZQ,EAAQY,KAAK+B,GADd1C,EAIMwC,SAAUC,OAAS,UAAWxC,IAAMA,GAAOA,EAAKA,IAMtDD,EAAK2C,cACJ5C,QAAUA,MDPRT,KAAKsD,KAAuB,mBAAXlD,QAAyBA,OAAyB,mBAATmD,MAAuBA,KAAyB,mBAAXjD,QAAyBA,aAExHkD,eAAe,EAAEC,eAAe,EAAEC,aAAa,EAAEC,cAAc,IAAIC,GAAG,SAASnE,EAAQU,EAAOJ,IACjG,SAAWK,GACX,YEvGA,IAAMC,GAAA,mBAAYC,QAAZA,OAAA,EAAA,mBAAAF,GAAAA,EAAA,EAAA,KACAyD,EAAUpE,EAAQ,gBAClBiB,EAAOjB,EAAQ,eAIrBU,GAAOJ,SAGN+D,MAAQ,KACRC,OAAS,KACTC,UAAY,EACZC,SAAU,EACVC,QAAU,GACVC,QAAU,GAAIN,GACdO,WAAY,EAKZC,eAECd,KAAO,KAEPlC,KAAA,SAAKiD,GAEJhB,KAAKC,KAAOe,GAGbC,GAAA,WAEC,GAAIhB,GAAOD,KAAKC,KACZiB,EAAmBjB,EAAKO,MAAMtC,KAAK,0BAEvCnB,GAAEC,QAAQiE,GAAG,gBAAiB,SAACtF,GAC9B,OAAOA,EAAEwF,SAGR,IAAK,IACJlB,EAAKmB,SACL,MALF,KAOM,IACJnB,EAAKoB,KAAKH,EAAiBI,OAAO,SAASC,IAAI,GAC/C,MATF,KAWM,IACJtB,EAAKoB,KAAKH,EAAiBI,OAAO,SAASC,IAAI,QAMnDC,IAAA,WAECzE,EAAEC,QAAQwE,IAAI,mBAUhBC,UAAA,SAAUC,GAETA,GAAQ,GACR,IAAIC,GAAaC,SAASC,OACtBC,EAAQH,EAAWI,QAAQL,GAC3BM,EAAQ,EAEZ,IAAa,IAATF,EACJ,CACCA,GAASJ,EAAK/E,MACd,IAAIsF,GAAMN,EAAWI,QAAQ,IAAKD,EACxB,KAAPG,IAAUA,EAAMN,EAAWhF,QAC9BqF,EAAQL,EAAWO,UAAUJ,EAAOG,GAErC,MAAOD,IAURG,UAAA,SAAUT,EAAMM,EAAOI,GAEtB,GAAIC,GAAS,GAAIC,MACbC,EAAUb,EAAO,IAAMM,EAAQ,WACnCK,GAAOG,QAAQH,EAAOI,UAAYL,GAClCG,GAA2B,mBAARH,GAAuB,YAAcC,EAAOK,cAAgB,IAAM,GACrFd,SAASC,OAASU,GAQnBxE,KAAA,SAAK4E,GAEJ,MAAKA,IAAgBA,EAAYhG,QADlCqD,KAIMQ,MAAQmC,EAJd3C,KAOM4C,mBAPN5C,KAUMe,cAAchD,KAAKiC,MAVzBA,KAaMe,cAAcE,SAbpBjB,MAgBM6C,oBAf2C,GAuBjDC,OAAA,SAAOnH,GAEN,GAAIoH,GAAMpH,EAAEqH,cACRC,EAAMC,SAASH,EAAII,aAAa,YAAa,IAC7C9F,EAAM8B,SAASiE,YAAYC,KAAO,gBAAkBJ,EAAM,GAE9DK,QAAOC,MACNlG,IAAKA,EACLmG,OAAQ,MACRC,SAAU,OACVC,SAAUC,OAAU,eAAiBxE,SAASC,WAAWwE,KAAKC,UAAY,OACxEC,KAAK,SAACC,GACR,GAAsB,WAAlBA,EAASC,MACb,CACC,GAAIC,GAAQvG,QAAQP,QAAQqD,MAAMtC,KAAK,oBACnCgG,EAAahB,SAASe,EAAME,OAAQ,GACxCF,GAAME,KAAKD,EAAa,GACxBnH,EAAEgG,GAAKqB,KAAK,YAAY,OAIxBC,KAAI,YACJA,IAAIN,KAEHO,KAAK,SAAC3I,GACR0I,IAAI,gBACJA,IAAI1I,EAAE4I,iBAOR3B,iBAAA,WF4FC,GAAI4B,GAAQxE,IEvFZ,IAFAA,KAAKQ,MAAMtC,KAAK,uBAAuB+C,GAAG,QAASjB,KAAK8C,QAEpD9C,KAAKW,QACT,CACC,GAAIO,GAAmBlB,KAAKQ,MAAMtC,KAAK,yBADxCgD,GAIkBI,OAAO,UAAUL,GAAG,QAAS,WAE7C,MADAuD,GAAKpD,WACE,IANTF,EAUkBI,OAAO,iBAAiBL,GAAG,QAAS,SAACtF,GAErD,MADA6I,GAAKnD,KAAK1F,EAAEqH,gBACL,MAQVH,gBAAA,WF4FC,GAAI4B,GAASzE,IE1Fb,OAAKA,MAAKW,SAEVX,KAAKc,WAAY,MACjB/D,GAAEC,QAAQ0H,IAAI,iBAAkB,WAC/BD,EAAK3D,WAAY,MAJQ,GAa3B6D,cAAA,WAEC,MAAO,2FAWRC,KAAA,SAAKvH,GFyFJ,GAAIwH,GAAS7E,IEvFb,OAAK3C,IAEL2C,KAAKW,SAAU,EAHhBX,KAMMU,UAAY3D,EAAEC,QAAQ0D,YAN5BV,KASMS,OAAS1D,EAAEiD,KAAK2E,iBACrB5H,EAAE,QAAQ+H,OAAO9E,KAAKS,QAVvBT,KAaMuB,IAAM,GACPpC,SAASiE,YAAY2B,OAAOC,MAE/BhF,KAAKuB,IAAM,YACXvB,KAAKuB,KAAOpC,SAAUiE,YAAY2B,OAAOE,SAAY,YAAc,IAInEjF,KAAKuB,IAAM,WAGZ2D,WAAW,WACVL,EAAKpE,OAAO5C,SAAS,SACnB,IAEHF,KAAKwH,cAAcnF,KAAKS,OAAOc,IAAI,GAAI,SAAC5F,GACvCoB,EAAE,QAAQc,SAAS,cACnBgH,EAAKpE,OAAO2E,YAAY,sBACxBP,EAAKhE,QAAQwE,OAEbR,EAAKpE,OAAOlC,SAAS,SAAS+G,KAAKjI,EAAM,WAAawH,EAAKtD,IAAK,SAACgE,GAChEV,EAAKhE,QAAQ2E,OACbX,EAAK9G,KAAK8G,EAAKpE,OAAOvC,KAAK,2BAnC9B8B,KAwCMY,QAAUtD,SAASC,SAAWD,SAASE,OAxC7CR,OA2CQS,WAAaJ,MA3CrBL,QA8CQU,QAAQT,OAAOwI,iCA7CL,GAmDlBrE,QAAA,WAEC,GAAIpB,KAAKW,QAERvD,EAAKsI,MAAO7F,OAAS,QAASxC,IAAM2C,KAAKY,SAAWZ,KAAKY,QAASZ,KAAKY,SACvEZ,KAAK2F,YAGN,CACC,GAAItI,GAAM2C,KAAKQ,MAAMtC,KAAK,4BAA4B0H,KAAK,OAC3DxI,GAAKsI,MAAO7F,OAAS,QAASxC,IAAMA,GAAOA,EAAKA,GAChDC,SAASuI,KAAOxI,IAOlBsI,MAAA,WFmFC,GAAIG,GAAS9F,IEjFb,KAAKA,KAAKW,QAAS,OAAO,CAE1B,IAAIoF,GAAmBhJ,EAAEC,QAAQ0D,WAHlCV,MAMMe,cAAcS,MANpBxB,KASMW,SAAU,EACfX,KAAKS,OAAO5C,SAAS,sBACrBmC,KAAKS,OAAOlC,SAAS,SAASmC,UAAUqF,GAExCb,WAAW,WACVnI,EAAE,QAAQqI,YAAY,cAAcvH,SAAS,iBAC7Cd,EAAEC,QAAQ0D,UAAUoF,EAAKpF,WACzBoF,EAAKrF,OAAO2E,YAAY,QAHRpI,OAMTU,QAAQR,MAAM8I,iBANLhJ,OASTS,WAAaqI,EAAKlF,SACvB,IAEHjD,KAAKwH,cAAcnF,KAAKS,OAAOc,IAAI,GAAI,SAAC5F,GACvCoB,EAAE,QAAQqI,YAAY,iBACtBU,EAAKrF,OAAOwF,SACZH,EAAKrF,OAAS,KACdqF,EAAKtF,MAAQ,KACbsF,EAAKpF,UAAY,EAL4B1D,OAQtCU,QAAQT,OAAOmB,+BASxBiD,KAAA,SAAK0B,GAEJ,IAAKA,EAAK,OAAO,CACjB,IAAI1F,GAAM0F,EAAII,aAAa,OAE3B/F,GAAKsI,MAAO7F,OAAS,UAAWxC,IAAMA,GAAOA,EAAKA,GAE9C2C,KAAKW,QAERX,KAAKkG,GAAG7I,GAIRC,SAAS6I,UAOXD,GAAA,SAAG7I,GFgFF,GAAI+I,GAASpG,KE9ETqG,EAAQrG,KAAKS,OAAOlC,SAAS,QADlCyB,MAGMe,cAAcS,MAHpB6E,EAMOC,KAAK,IANZtG,KASMa,QAAQwE,OAEbgB,EAAMf,KAAKjI,EAAM,WAAa2C,KAAKuB,IAAK,WACvC6E,EAAKvF,QAAQ2E,OACbY,EAAKrI,KAAKqI,EAAK3F,OAAOvC,KAAK,yBAb7BlB,OAiBQS,WAAaJ,MFoFnBX,KAAKsD,KAAuB,mBAAXlD,QAAyBA,OAAyB,mBAATmD,MAAuBA,KAAyB,mBAAXjD,QAAyBA,aAExHmD,eAAe,EAAEoG,eAAe,IAAIC,GAAG,SAASrK,EAAQU,EAAOJ,IAClE,SAAWK,GACX,YGvcA,IAAMC,GAAA,mBAAYC,QAAZA,OAAA,EAAA,mBAAAF,GAAAA,EAAA,EAAA,IAEND,GAAOJ,SAENU,QAAU,KAQVsJ,QAAA,WAEC,MAAOC,SAASC,WAAa,GAAO,GAUrCjB,KAAA,SAAKtC,EAAawD,EAAOvJ,GAExB,MAAK2C,MAAKyG,WACLpJ,MAELqJ,SAAQC,UACPvD,GAAe,KACfwD,GAASvJ,EACTA,IAN2B,GAgB7BuC,QAAA,SAAQwD,EAAawD,EAAOvJ,GAE3B,MAAK2C,MAAKyG,WACLpJ,MAELqJ,SAAQG,aACPzD,GAAe,KACfwD,GAASvJ,EACTA,IAN2B,GAgB7B0C,aAAA,SAAagF,GHicZ,GAAIP,GAAQxE,KG/bRC,EAAOD,IACXA,MAAK7C,QAAU4H,EAAO5H,QAEtBJ,EAAEC,QAAQiE,GAAG,WAAY,SAACtF,GACzB,GAAIqI,GAAQrI,EAAEmL,cAAc9C,KAE5B,IAAIA,GAAUhH,OAAOS,YAAcuG,EAAM3G,IACzC,CAEC,OAAO2G,EAAMnE,QAEZ,IAAK,QACJ,GAAII,EAAK9C,QAAQwD,QAGhB,MADAV,GAAK9C,QAAQwI,SACN,CAER,MARF,KAUM,UACJ,MAAInB,GAAKrH,QAAQwD,SAEhBV,EAAK9C,QAAQ+I,GAAGlC,EAAM3G,MAOhB,IAHN4C,EAAK9C,QAAQyH,KAAKZ,EAAM3G,MACjB,GAKVC,SAAS6I,gBHicVzJ,KAAKsD,KAAuB,mBAAXlD,QAAyBA,OAAyB,mBAATmD,MAAuBA,KAAyB,mBAAXjD,QAAyBA,gBAErH+J,GAAG,SAAS5K,EAAQU,EAAOJ,IACjC,SAAWK,GACX,YIniBA,IAAMC,GAAA,mBAAYC,QAAZA,OAAA,EAAA,mBAAAF,GAAAA,EAAA,EAAA,KAGAyD,GAFkB,mBAAAvD,QAAlBA,OAAA,QAAA,mBAAAF,GAAAA,EAAA,QAAA,KACuB,mBAAAE,QAAvBA,OAAA,aAAA,mBAAAF,GAAAA,EAAA,aAAA,KACUX,EAAQ,iBAClBgB,EAAUhB,EAAQ,gBAClBiB,EAAOjB,EAAQ,gBAEjB0E,EAAU,IAGdhE,GAAOJ,SAGNwC,MAAQ,KACRO,UAAY,KACZwH,SAAW,KACX9H,UAAY,KAEZT,iBAGAwI,aAAe,EAGfjI,cAAgB,OAGhBU,YAAa,EACbJ,YAAa,EAObhB,YAAA,SAAY4I,GAEXlH,KAAKgH,SAAWE,EAChBrG,EAAU,GAAIN,IAQf/B,WAAA,SAAW2I,GJoiBV,GAAI3C,GAAQxE,IIliBZ,KAAKmH,EAAQlI,MAAO,OAAO,CAE3Be,MAAKf,MAAQkI,EAAQlI,OAAS,KAC9Be,KAAKiH,aAAeE,EAAQpI,OAASiB,KAAKiH,aAC1CjH,KAAKvB,cAAgB0I,EAAQ1I,eAAiBuB,KAAKvB,cACnDuB,KAAKhB,cAAgBmI,EAAQnI,eAAiBgB,KAAKhB,aAEnD,IAAIoI,GAASpH,KAAKf,MAAMV,SAASyB,KAAKvB,cAAcC,aARrDmC,GAWSwE,KAAKrF,KAAKgH,UAXnBI,EAcQC,aAAa,SAAC1L,GAGpBkF,EAAQ2E,OAHkBhB,EAMrBvF,MAAMpB,SAAS,QANM2G,EASrBvF,MAAMqI,QAAQH,EAAQ1I,eACvB+F,EAAKyC,aAAe,IAGvBzC,EAAK+C,aACJH,EACA5C,EAAKyC,aACLzC,EAAKxF,eALPwF,EASMgD,YAAYJ,OAQpBK,eAAA,WAECzH,KAAKf,MAAMqI,QAAQ,WACnBtH,KAAKf,MAAMV,SAAS,cAAc0H,UAMnCD,eAAA,WAEChG,KAAKf,MAAMqI,QAAQ,WAUpBC,aAAA,SAAaH,EAAQrI,EAAO2I,GAE3BN,EAAOO,KAAK,SAACC,EAAG5L,GACfkJ,WAAW,WACVnI,EAAEf,GAAG6B,SAAS6J,IACZE,EAAI7I,MAUT8I,SAAA,SAASC,GAER,GAAIC,GAAK5I,SAASiE,WAClB,OAAO0E,GAAKE,IAAI,SAAChM,EAAG4L,GACnB,GAAIvK,GAAM0K,EAAG1E,KAAO,YAAcrH,EAAEiH,IAAM,IACtCgF,EAAMF,EAAGG,UAAY,IAAMlM,EAAEmM,KAAKC,SAAS/K,GAC/C,OAAQ,mCACQA,EAAM,uBAEH4K,EAAM,UAAYjM,EAAE4K,MAAQ,sBAE/B5K,EAAE4K,MAAQ,iEAEkB5K,EAAEqM,IAAM,qDACLrM,EAAGmM,KAAKG,KAAQtM,EAAEmM,KAAKG,KAAO,GAAK,iCAIhFC,KAAK,KASTC,SAAA,SAASzD,EAAQ0D,GAEhB,GAAIV,GAAK5I,SAASiE,YACd/F,EAAM0K,EAAG1E,KAAO,SAChBqF,EAAQ,EAEZrL,IAAO0H,EAAQC,KAAQ,SAAWD,EAAOC,KAAO,IAAO+C,EAAIhD,OAAOC,KAAQ,SAAW+C,EAAGhD,OAAOC,KAAO,IAAM,GAC5G3H,GAAO0H,EAAQE,SAAYF,EAAOE,SAAW,IAAO8C,EAAIhD,OAAOE,SAAY8C,EAAGhD,OAAOE,SAAW,IAAM,GAEjGF,EAAOC,MAA6B2D,SAApB5D,EAAOE,WAE3ByD,GAAS3D,EAAQ6D,QAAW,YAAc7D,EAAO6D,QAAWb,EAAIa,QAAW,YAAcb,EAAGa,QAAU,GACtGF,GAAS,UAAY3D,EAAQ8D,KAAQ9D,EAAO8D,KAAOd,EAAGc,OAGvDH,GAAS,QACTA,GAAS1I,KAAMN,WAAc,kBAAoB,GACjDgJ,GAAS1I,KAAMV,WAAc,kBAAoB,GACjDoJ,EAAQA,EAAM9I,QAAQ,MAAO,KAE7BvC,GAAYqL,EAEZ3L,EAAE+L,QAAQzL,EAAK,SAAC0G,GACX0E,GAEHA,EAAS1E,MAYZgF,aAAA,SAAajB,EAAMkB,EAAYP,GJ8gB9B,GAAIhE,GAASzE,II5gBb,KAEC,GAAkB,WAAd8H,EAAK9D,OJ8gBR,WI5gBA,GAAIoD,GAASU,EAAMmB,SAAStM,OAAUI,EAAE0H,EAAKoD,SAASC,EAAKmB,WAAa,IACxE,KAAI7B,IAAUA,EAAOzK,OAoDpB,KAAM,iBAjDNyK,GAAOC,aAAa,WAEd2B,IAEJvE,EAAKxF,MAAMqI,QAAQ7C,EAAKhG,eACxBoC,EAAQ2E,QALgBf,EASpBxF,MAAM6F,OAAOsC,GAAQE,QAAQ,WAAYF,GATrB3C,EAYpB+C,YAAYJ,GAZQ3C,EAepB8C,aAAaH,EAAQ3C,EAAKwC,aAAcxC,EAAKzF,eAG9CG,SAASC,WAAWlC,MAAMuC,gBAAkBqI,EAAKoB,gBAEpDzE,EAAK0E,eAAerB,EAAKoB,gBAItB/J,SAASC,WAAWlC,MAAMmC,iBAEzByI,EAAKsB,UAEJ3E,EAAKvF,UAAUmK,SAAS,SAE3B5E,EAAKvF,UAAUkG,YAAY,QAE5BX,EAAK6E,qBAAqBxB,EAAKsB,WAI/B3E,EAAKvF,UAAUrB,SAAS,SAKtB4K,GAEHA,aASC,IAAkB,SAAdX,EAAK9D,MAEb,KAAM8D,GAAMyB,QAAWzB,EAAKyB,QAAU,QAGxC,MAAM5N,GAEL6N,MAAM7N,KAUR4D,cAAA,SAAckK,GJ+fb,GAAI5E,GAAS7E,II7fbA,MAAKd,UAAYuK,EACjBzJ,KAAKd,UAAU+B,GAAG,QAAS,SAACtF,GAC3B,GAAI+N,GAAQ3M,EAAEpB,EAAEqH,eACZoG,EAAWlG,SAASwG,EAAM9D,KAAK,iBACnC,OAAI8D,IAASA,EAAML,SAAS,YAAmB,GAC/CK,EAAM7L,SAAS,eACfgH,GAAK2D,UAAWK,KAAOO,GAAY,SAACrF,GACnCc,EAAKkE,aAAahF,GAAU,EAAM,WACjC2F,EAAMtE,YAAY,aAF6BP,EAK3C8E,WACJd,KAAOO,UAWXE,qBAAA,SAAqBM,GAEpB5J,KAAKd,UAAU0G,KAAK,gBAAiBgE,IAStCjK,kBAAA,SAAkBkK,GJ8fjB,GAAI/D,GAAS9F,II5fb6J,GAAS5I,GAAG,QAAS,SAACtF,GACrB,GAAIkN,GAAO3F,SAASvH,EAAEqH,cAAcG,aAAa,YAejD,OAhB2B2C,GAItB2B,iBACL5G,EAAQwE,KAAKS,EAAKkB,UAElBlB,EAAK0C,UAAWK,KAAOA,GAAQ,SAAC9E,GAC/B,MAAIA,GAAS5G,SAAW4G,EAAS5G,QAAQR,QAAe,GADZmJ,EAGvCiD,aAAahF,GAAU,OAHgB+B,GAKvC6D,WACJd,KAAOA,QAGF,KASTM,eAAA,SAAerB,GAEd,IAAKA,EAAKgC,KAAM,OAAO,CAEvB,IACIzM,IADU8B,SAASiE,YAAYwF,QACzBtL,SAASC,SAAW,KAC1BwM,EAAM,EAENjC,GAAKkC,OAERD,GAAO,YAAc1M,EAAMyK,EAAKkC,KAAK3M,IAAM,4BAA8ByK,EAAKkC,KAAKC,GAAK,0CAEzFF,GAAOjC,EAAKgC,KAAK9B,IAAI,SAAChM,EAAG4L,GACxB,MAAO5L,GAAGkO,OAAU,WAAalO,EAAE0F,KAAO,YAAc,YAAcrE,EAAMrB,EAAEqB,IAAM,eAAiBrB,EAAEiO,GAAK,KAAOjO,EAAE0F,KAAO,SAC1H6G,KAAK,IACJT,EAAKqC,OAERJ,GAAO,YAAc1M,EAAMyK,EAAKqC,KAAK9M,IAAM,4BAA8ByK,EAAKqC,KAAKF,GAAK,2CAGzFjK,KAAKR,UAAUtB,KAAK,KAAKsD,IAAI,SAC7BxB,KAAKR,UAAU8G,KAAKyD,GACpB/J,KAAKL,kBAAkBK,KAAKR,UAAUtB,KAAK,OAS5CsJ,YAAA,SAAYJ,GAEXA,EAAO7I,SAAS,KAAK0C,GAAG,QAAS,SAACtF,GACjC,GAAI0B,GAAM1B,EAAEqH,cAAcG,aAAa,OAGvC,OAFAhG,GAAQyH,KAAKvH,GACbD,EAAKsI,MAAO7F,OAAS,UAAWxC,IAAMA,GAAOA,EAAKA,IAC3C,KASTsM,UAAA,SAAU5E,GAET,IAAK3H,EAAKqJ,UAAW,OAAO,CAE5B,IAAIsB,GAAK5I,SAASiE,YACd/F,EAAM,GAAIqL,EAAQ,EAElB3D,GAAOC,MAEV3H,GAAO0K,EAAG1E,KAAO,IACjBhG,GAAO,SAAW0H,EAAOC,KAAO,IAChC3H,GAAO0H,EAAQE,SAAYF,EAAOE,SAAW,IAAM,IAInD5H,GAAOC,SAASC,SAGjBmL,EAAQX,EAAIa,QAAW,YAAcb,EAAGa,QAAU,GAClDF,GAAS,UAAY3D,EAAQ8D,KAAQ9D,EAAO8D,KAAOd,EAAGc,MACtDH,EAAQA,EAAM9I,QAAQ,MAAO,KAE7BvC,GAAYqL,EAEZ1L,OAAOS,WAAaJ,EACpBD,EAAKsI,MAAO7F,OAAS,QAASxC,IAAMA,GAAOA,EAAKA,OJ0f/CX,KAAKsD,KAAuB,mBAAXlD,QAAyBA,OAAyB,mBAATmD,MAAuBA,KAAyB,mBAAXjD,QAAyBA,aAExHkD,eAAe,EAAEC,eAAe,EAAEoG,eAAe,IAAI6D,GAAG,SAASjO,EAAQU,EAAOJ,IACnF,SAAWK,GACX,YKh5BA,IAAMC,GAAA,mBAAYC,QAAZA,OAAA,EAAA,mBAAAF,GAAAA,EAAA,EAAA,IAGND,GAAOJ,SAEN4N,QAOAtM,KAAA,SAAKgH,GAEJ/E,KAAKqK,KAAKC,OAASvF,EAAOjH,SAS3BE,sBAAA,SAAsB+G,GAErB,GAAIwF,GAAoBxF,EAAO9G,uBAC3BuM,EAAiBzF,EAAO5G,uBAE5BoM,GAAkBtJ,GAAG,QAAS,SAACtF,GAC9B,GAAI8O,GAAW1N,EAAEpB,EAAEqH,eACfnD,EAAS4K,EAAS7E,KAAK,cAEvB6E,GAASpB,SAAS,OAErBoB,EAASrF,YAAY,MACrBoF,EAAepF,YAAY,UAI3BmF,EAAkBnF,YAAY,MAC9BoF,EAAepF,YAAY,QAC3BqF,EAAS5M,SAAS,MAClB2M,EAAelJ,OAAO,IAAMzB,GAAQhC,SAAS,YAQhDO,0BAAA,WAUC,QAAS6C,KAERhB,EAAKoK,KAAKC,OAAOlF,YAAY,QACzB1H,QAAQP,QAAQqD,OAEnB9C,QAAQP,QAAQqD,MAAMjC,SAAS,qBAAqB6G,YAAY,QAEjEsF,GAAa,EAEd,QAASlJ,KAERvB,EAAKoK,KAAKC,OAAOzM,SAAS,QACtBH,QAAQP,QAAQqD,OAEnB9C,QAAQP,QAAQqD,MAAMjC,SAAS,qBAAqBV,SAAS,QAE9D6M,GAAa,EAxBd,GAAIzK,GAAOD,KACP2K,EAAU5N,EAAEC,QACZ0D,EAAY,EACZgK,GAAa,EACbE,EAAY,CAEhB5K,MAAKqK,KAAKC,OAAOlF,YAAY,QAqB7BuF,EAAQ1J,GAAG,gBAAiB,SAACtF,GAC5B,GAAIkP,GAAQF,EAAQjK,WACpB,IAAImK,EAA4B,GAAnBF,EAAQG,UAEpB,GAAIpK,EAAYmK,GAEf,GAAIH,EACJ,CACC,GAAI/O,EAAGoP,UAAYH,EAAa,IAAK,OAAO,CAC5C3J,UAKD,KAAKyJ,EACL,CACC,GAAI/O,EAAGoP,UAAYH,EAAa,IAAK,OAAO,CAC5CpJ,UAMEkJ,IAEHzJ,GAGFP,GAAYmK,EACZD,EAAYjP,EAAEoP,aAOhBtF,6BAAA,WAEC1I,EAAEC,QAAQwE,IAAI,qBLi4Bb9E,KAAKsD,KAAuB,mBAAXlD,QAAyBA,OAAyB,mBAATmD,MAAuBA,KAAyB,mBAAXjD,QAAyBA,gBAErHgO,GAAG,SAAS7O,EAAQU,EAAOJ,IACjC,SAAWK,GACX,YM1/BA,IAAMC,GAAA,mBAAYC,QAAZA,OAAA,EAAA,mBAAAF,GAAAA,EAAA,EAAA,IAEND,GAAOJ,QAAU,WN6/BhB,GAAI+H,GAAQxE,IM3/BZA,MAAKyJ,IAAM,KACXzJ,KAAKiL,MAAO,EAFbjL,KAKMjC,KAAO,SAACmJ,GAEZ,GAAImD,GAAOtN,EAAEyH,EAAKqD,WAFMrD,GAKnBiF,IAAMY,EAGP7F,EAAKyG,MAERZ,EAAKxM,SAAS,QAVSqJ,EAchBpC,OAAOuF,IAGhBrK,KAAK6H,SAAW,WACf,MAAO,2HAvBT7H,KAgCMqF,KAAO,SAAC6B,GACZA,EAAUA,GAAWnK,EAAE,QACvByH,EAAKyG,KAAO/D,GAAY,GAAO,EAC/B1C,EAAKzG,KAAKmJ,GACV1C,EAAKiF,IAAI5L,SAAS,SApCpBmC,KAwCMwF,KAAO,WACXhB,EAAKiF,IAAIrE,YAAY,QACrBZ,EAAKiF,IAAIxD,SACTzB,EAAKiF,IAAM,SN2/BV/M,KAAKsD,KAAuB,mBAAXlD,QAAyBA,OAAyB,mBAATmD,MAAuBA,KAAyB,mBAAXjD,QAAyBA,qBAEhH","file":"app.pkgd.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nvar layout = require('./Layout.js');\nvar index = require('./Index.js');\nvar article = require('./Article.js');\nvar hist = require('./History.js');\n\n// set current url\nvar url = location.pathname + location.search;\n\nwindow.currentUrl = url;\nwindow.modules = {\n\tindex: index,\n\tarticle: article,\n\tlayout: layout\n};\n\n// set support css3\nif (CSS3.isSupport()) $('html').addClass('css3');\n\n// Header\n// -----------------------------------\n\nvar $header = $('#header');\nif ($header.length) {\n\tlayout.init({\n\t\t$header: $header\n\t});\n\n\t// act event layout\n\tlayout.setEventGnbFromMobile({\n\t\tselector_toggleButtons: $header.find('.toggle-buttons > button'),\n\t\tselector_targetElements: $header.find('.gnb, .keyword-search, .profile')\n\t});\n\n\t// init scroll event\n\tlayout.initScrollEventFromHeader();\n}\n\n// Index\n// -----------------------------------\n\nvar $photoIndex = $('#photoIndex');\nif ($photoIndex.length) {\n\t// init loading\n\tindex.initLoading($photoIndex.children('.loading-wrap'));\n\n\t// set masonry\n\tindex.setMasonry({\n\t\tmasonryOption: {\n\t\t\titemSelector: '.grid-item',\n\t\t\tcolumnWidth: '.grid-sizer',\n\t\t\ttransitionDuration: '0s',\n\t\t\thiddenStyle: {},\n\t\t\tvisibleStyle: {}\n\t\t},\n\t\tdelay: 100,\n\t\tshowClassName: 'show',\n\t\t$grid: $photoIndex.children('.index')\n\t});\n\n\t// more item event\n\tvar $moreItem = $photoIndex.children('.more-item');\n\tif (userData.preference.index.print_moreitem && $moreItem.length) {\n\t\tindex.isNextpage = true;\n\t\tindex.loadMoreItems($moreItem.children('button'));\n\t}\n\n\t// paginate\n\tvar $paginate = $photoIndex.children('.paginate');\n\tif (userData.preference.index.print_paginate && $paginate.length) {\n\t\tindex.isPaginate = true;\n\t\tindex.$paginate = $paginate;\n\t\tindex.initPaginateEvent(index.$paginate.find('a'));\n\t}\n\n\t// set History\n\thist.replace({ target: 'index', url: url }, url, url);\n}\n\n// Article\n// -----------------------------------\n\nvar $article = $('#article');\nif ($article.length) {\n\tarticle.init($article);\n\n\t// set History\n\thist.replace({ target: 'article', url: url }, url, url);\n}\n\n// on popstate\nhist.initPopEvent({\n\tarticle: article\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./Article.js\":2,\"./History.js\":3,\"./Index.js\":4,\"./Layout.js\":5}],2:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nvar Loading = require('./Loading.js');\nvar hist = require('./History.js');\n\nvar loading = null;\n\nmodule.exports = {\n\n\t// set elements\n\t$body: null,\n\t$modal: null,\n\tscrollTop: 0,\n\tisModal: false,\n\tsaveURL: '',\n\tloading: new Loading(),\n\tactResize: false,\n\n\t/**\n  * Keyboard event\n  */\n\tkeyboardEvent: {\n\n\t\tself: null,\n\n\t\tinit: function init(getThis) {\n\t\t\tthis.self = getThis;\n\t\t},\n\t\ton: function on() {\n\t\t\tvar self = this.self;\n\t\t\tvar $externalButtons = self.$body.find('.external-buttons a.btn');\n\n\t\t\t$(window).on('keyup.article', function (e) {\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\t// esc\n\t\t\t\t\tcase 27:\n\t\t\t\t\t\tself.onClose();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// left\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tself.onGo($externalButtons.filter('.prev').get(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// right\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tself.onGo($externalButtons.filter('.next').get(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\toff: function off() {\n\t\t\t$(window).off('keyup.article');\n\t\t}\n\t},\n\n\t/**\n  * Get cookie value\n  *\n  * @Param string name\n  * @Return string\n  */\n\tgetCookie: function getCookie(name) {\n\t\tname += '=';\n\t\tvar cookieData = document.cookie;\n\t\tvar start = cookieData.indexOf(name);\n\t\tvar value = '';\n\n\t\tif (start != -1) {\n\t\t\tstart += name.length;\n\t\t\tvar end = cookieData.indexOf(';', start);\n\t\t\tif (end == -1) end = cookieData.length;\n\t\t\tvalue = cookieData.substring(start, end);\n\t\t}\n\t\treturn value;\n\t},\n\n\t/**\n  * Set cookie value\n  *\n  * @Param string name\n  * @Param string value\n  * @Param int cDay\n  */\n\tsetCookie: function setCookie(name, value, cDay) {\n\t\tvar expire = new Date();\n\t\tvar cookies = name + '=' + value + '; path=/ ';\n\t\texpire.setDate(expire.getDate() + cDay);\n\t\tcookies += typeof cDay != 'undefined' ? ';expires=' + expire.toGMTString() + ';' : '';\n\t\tdocument.cookie = cookies;\n\t},\n\n\t/**\n  * Initial\n  *\n  * @Param object $getArticle\n  */\n\tinit: function init($getArticle) {\n\t\tif (!$getArticle || !$getArticle.length) return false;\n\n\t\t// set article body element\n\t\tthis.$body = $getArticle;\n\n\t\t// act init on like event\n\t\tthis.initButtonsEvent();\n\n\t\t// init keyboard event\n\t\tthis.keyboardEvent.init(this);\n\n\t\t// on keyboard event\n\t\tthis.keyboardEvent.on();\n\n\t\t// init resize event\n\t\tthis.initResizeEvent();\n\t},\n\n\t/**\n  * On like\n  *\n  * @Param object e\n  */\n\tonLike: function onLike(e) {\n\t\tvar btn = e.currentTarget;\n\t\tvar srl = parseInt(btn.getAttribute('data-srl'), 10);\n\t\tvar url = userData.environment.root + '/ajax/upLike/' + srl + '/';\n\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\t\t\tmethod: 'get',\n\t\t\tdataType: 'json',\n\t\t\theaders: { 'Accept': 'application=' + userData.preference.meta.headerKey + ';' }\n\t\t}).done(function (response) {\n\t\t\tif (response.state == 'success') {\n\t\t\t\tvar $like = modules.article.$body.find('[data-bind=like]');\n\t\t\t\tvar count_like = parseInt($like.text(), 10);\n\t\t\t\t$like.text(count_like + 1);\n\t\t\t\t$(btn).prop('disabled', true);\n\t\t\t} else {\n\t\t\t\tlog('db error');\n\t\t\t\tlog(response);\n\t\t\t}\n\t\t}).fail(function (e) {\n\t\t\tlog('server error');\n\t\t\tlog(e.responseText);\n\t\t});\n\t},\n\n\t/**\n  * Initial on like event\n  */\n\tinitButtonsEvent: function initButtonsEvent() {\n\t\tvar _this = this;\n\n\t\t// on like\n\t\tthis.$body.find('.nav-bottom > .like').on('click', this.onLike);\n\n\t\tif (this.isModal) {\n\t\t\tvar $externalButtons = this.$body.find('.external-buttons .btn');\n\n\t\t\t// close\n\t\t\t$externalButtons.filter('.close').on('click', function () {\n\t\t\t\t_this.onClose();\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\t// prev and next\n\t\t\t$externalButtons.filter('a.prev,a.next').on('click', function (e) {\n\t\t\t\t_this.onGo(e.currentTarget);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n  * Initial on resize event\n  */\n\tinitResizeEvent: function initResizeEvent() {\n\t\tvar _this2 = this;\n\n\t\tif (!this.isModal) return false;\n\n\t\tthis.actResize = false;\n\t\t$(window).one('resize.article', function () {\n\t\t\t_this2.actResize = true;\n\t\t});\n\t},\n\n\t/**\n  * Modal template\n  *\n  * @Param object data\n  */\n\tmodalTemplate: function modalTemplate() {\n\t\treturn '<div class=\"modal animate fixed\">' + '<span class=\"bg\"></span>' + '<div class=\"wrap\"></div>' + '</div>';\n\t},\n\n\t/**\n  * Open modal\n  *\n  * @Param string url\n  */\n\topen: function open(url) {\n\t\tvar _this3 = this;\n\n\t\tif (!url) return false;\n\n\t\tthis.isModal = true;\n\n\t\t// save scroll top\n\t\tthis.scrollTop = $(window).scrollTop();\n\n\t\t// set modal element\n\t\tthis.$modal = $(this.modalTemplate());\n\t\t$('body').append(this.$modal);\n\n\t\t// set param 'get'\n\t\tthis.get = '';\n\t\tif (userData.environment.params.nest) {\n\t\t\tthis.get = '&get=nest';\n\t\t\tthis.get += userData.environment.params.category ? ',category' : '';\n\t\t} else {\n\t\t\tthis.get = '&get=all';\n\t\t}\n\n\t\tsetTimeout(function () {\n\t\t\t_this3.$modal.addClass('show');\n\t\t}, 30);\n\n\t\tCSS3.transitionEnd(this.$modal.get(0), function (e) {\n\t\t\t$('html').addClass('mode-modal');\n\t\t\t_this3.$modal.removeClass('fixed animate show');\n\t\t\t_this3.loading.show();\n\n\t\t\t_this3.$modal.children('.wrap').load(url + '?popup=1' + _this3.get, function (res) {\n\t\t\t\t_this3.loading.hide();\n\t\t\t\t_this3.init(_this3.$modal.find('> .wrap > .article'));\n\t\t\t});\n\t\t});\n\n\t\t// save url\n\t\tthis.saveURL = location.pathname + location.search;\n\n\t\t// save current url\n\t\twindow.currentUrl = url;\n\n\t\t// off scroll event from header\n\t\twindow.modules.layout.destroyScrollEventFromHeader();\n\t},\n\n\t/**\n  * On close\n  */\n\tonClose: function onClose() {\n\t\tif (this.isModal) {\n\t\t\thist.push({ target: 'index', url: this.saveURL }, this.saveURL, this.saveURL);\n\t\t\tthis.close();\n\t\t} else {\n\t\t\tvar url = this.$body.find('.external-buttons .close').attr('href');\n\t\t\thist.push({ target: 'index', url: url }, url, url);\n\t\t\tlocation.href = url;\n\t\t}\n\t},\n\n\t/**\n  * Close modal\n  */\n\tclose: function close() {\n\t\tvar _this4 = this;\n\n\t\tif (!this.isModal) return false;\n\n\t\tvar scrollTopInModal = $(window).scrollTop();\n\n\t\t// disabled keyboard event\n\t\tthis.keyboardEvent.off();\n\n\t\t// set isModal is false\n\t\tthis.isModal = false;\n\t\tthis.$modal.addClass('fixed animate show');\n\t\tthis.$modal.children('.wrap').scrollTop(scrollTopInModal);\n\n\t\tsetTimeout(function () {\n\t\t\t$('html').removeClass('mode-modal').addClass('hidden-scroll');\n\t\t\t$(window).scrollTop(_this4.scrollTop);\n\t\t\t_this4.$modal.removeClass('show');\n\n\t\t\t// refresh masonry from index\n\t\t\twindow.modules.index.refreshMasonry();\n\n\t\t\t// set current url\n\t\t\twindow.currentUrl = _this4.saveURL;\n\t\t}, 30);\n\n\t\tCSS3.transitionEnd(this.$modal.get(0), function (e) {\n\t\t\t$('html').removeClass('hidden-scroll');\n\t\t\t_this4.$modal.remove();\n\t\t\t_this4.$modal = null;\n\t\t\t_this4.$body = null;\n\t\t\t_this4.scrollTop = 0;\n\n\t\t\t// on scroll event from header\n\t\t\twindow.modules.layout.initScrollEventFromHeader();\n\t\t});\n\t},\n\n\t/**\n  * On go\n  *\n  * @Param object btn\n  */\n\tonGo: function onGo(btn) {\n\t\tif (!btn) return false;\n\t\tvar url = btn.getAttribute('href');\n\n\t\thist.push({ target: 'article', url: url }, url, url);\n\n\t\tif (this.isModal) {\n\t\t\tthis.go(url);\n\t\t} else {\n\t\t\tlocation.reload();\n\t\t}\n\t},\n\n\t/**\n  * Go url in article\n  */\n\tgo: function go(url) {\n\t\tvar _this5 = this;\n\n\t\tvar $wrap = this.$modal.children('.wrap');\n\t\t// disabled keyboard event\n\t\tthis.keyboardEvent.off();\n\n\t\t// clear article\n\t\t$wrap.html('');\n\n\t\t// show loading\n\t\tthis.loading.show();\n\n\t\t$wrap.load(url + '?popup=1' + this.get, function () {\n\t\t\t_this5.loading.hide();\n\t\t\t_this5.init(_this5.$modal.find('> .wrap > .article'));\n\t\t});\n\n\t\t// save current url\n\t\twindow.currentUrl = url;\n\t}\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./History.js\":3,\"./Loading.js\":6}],3:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nmodule.exports = {\n\n\tarticle: null,\n\n\t/**\n  * Init loading\n  *\n  * @Param object $target\n  * @Return bool\n  */\n\tsupport: function support() {\n\t\treturn history.pushState ? true : false;\n\t},\n\n\t/**\n  * Push state\n  *\n  * @Param object environment\n  * @Param string title\n  * @Param string url\n  */\n\tpush: function push(environment, title, url) {\n\t\tif (!this.support()) return false;\n\t\tif (!url) return false;\n\n\t\thistory.pushState(environment || null, title || url, url);\n\t},\n\n\t/**\n  * Push state\n  *\n  * @Param object environment\n  * @Param string title\n  * @Param string url\n  */\n\treplace: function replace(environment, title, url) {\n\t\tif (!this.support()) return false;\n\t\tif (!url) return false;\n\n\t\thistory.replaceState(environment || null, title || url, url);\n\t},\n\n\t/**\n  * Initial pop event\n  *\n  * @Param object params : {\n  *   article : article module\n  * }\n  */\n\tinitPopEvent: function initPopEvent(params) {\n\t\tvar _this = this;\n\n\t\tvar self = this;\n\t\tthis.article = params.article;\n\n\t\t$(window).on('popstate', function (e) {\n\t\t\tvar state = e.originalEvent.state;\n\n\t\t\tif (state && window.currentUrl != state.url) {\n\n\t\t\t\tswitch (state.target) {\n\t\t\t\t\tcase 'index':\n\t\t\t\t\t\tif (self.article.isModal) {\n\t\t\t\t\t\t\tself.article.close();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'article':\n\t\t\t\t\t\tif (_this.article.isModal) {\n\t\t\t\t\t\t\tself.article.go(state.url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.article.open(state.url);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t});\n\t}\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],4:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nvar masonry = (typeof window !== \"undefined\" ? window['Masonry'] : typeof global !== \"undefined\" ? global['Masonry'] : null);\nvar imagesLoaded = (typeof window !== \"undefined\" ? window['imagesLoaded'] : typeof global !== \"undefined\" ? global['imagesLoaded'] : null);\nvar Loading = require('./Loading.js');\nvar article = require('./Article.js');\nvar hist = require('./History.js');\n\nvar loading = null;\n\nmodule.exports = {\n\n\t// set selector\n\t$grid: null,\n\t$paginate: null,\n\t$loading: null,\n\t$moreItem: null,\n\n\tmasonryOption: {},\n\n\t// delay animation\n\tmasonryDelay: 0,\n\n\t// show class name\n\tshowClassName: 'show',\n\n\t// paginate navigation\n\tisPaginate: false,\n\tisNextpage: false,\n\n\t/**\n  * Init loading\n  *\n  * @Param object $target\n  */\n\tinitLoading: function initLoading($target) {\n\t\tthis.$loading = $target;\n\t\tloading = new Loading();\n\t},\n\n\t/**\n  * Set masonry\n  *\n  * @Param object options\n  */\n\tsetMasonry: function setMasonry(options) {\n\t\tvar _this = this;\n\n\t\tif (!options.$grid) return false;\n\n\t\tthis.$grid = options.$grid || null;\n\t\tthis.masonryDelay = options.delay || this.masonryDelay;\n\t\tthis.masonryOption = options.masonryOption || this.masonryOption;\n\t\tthis.showClassName = options.showClassName || this.showClassName;\n\n\t\tvar $items = this.$grid.children(this.masonryOption.itemSelector);\n\n\t\t// show loading\n\t\tloading.show(this.$loading);\n\n\t\t// images loaded\n\t\t$items.imagesLoaded(function (e) {\n\n\t\t\t// hide loading\n\t\t\tloading.hide();\n\n\t\t\t// show grid\n\t\t\t_this.$grid.addClass('show');\n\n\t\t\t// init masonry\n\t\t\t_this.$grid.masonry(options.masonryOption);\n\t\t\tif (_this.masonryDelay > 0) {\n\t\t\t\t// play grid items\n\t\t\t\t_this.playGridItem($items, _this.masonryDelay, _this.showClassName);\n\n\t\t\t\t// initial go to article event\n\t\t\t\t_this.gotoArticle($items);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Destroy masonry\n  */\n\tdestroyMasonry: function destroyMasonry() {\n\t\tthis.$grid.masonry('destroy');\n\t\tthis.$grid.children('.grid-item').remove();\n\t},\n\n\t/**\n  * Refresh masonry\n  */\n\trefreshMasonry: function refreshMasonry() {\n\t\tthis.$grid.masonry('layout');\n\t},\n\n\t/**\n  * Play grid item animation\n  *\n  * @Param array $items\n  * @Param int delay\n  * @Param string className\n  */\n\tplayGridItem: function playGridItem($items, delay, className) {\n\t\t$items.each(function (k, o) {\n\t\t\tsetTimeout(function () {\n\t\t\t\t$(o).addClass(className);\n\t\t\t}, k * delay);\n\t\t});\n\t},\n\n\t/**\n  * Template\n  *\n  * @Param array data\n  * @Return string\n  */\n\ttemplate: function template(data) {\n\t\tvar ev = userData.environment;\n\t\treturn data.map(function (o, k) {\n\t\t\tvar url = ev.root + '/article/' + o.srl + '/';\n\t\t\tvar img = ev.gooseRoot + '/' + o.json.thumnail.url;\n\t\t\treturn '<div class=\"grid-item\">' + '<a href=\"' + url + '\">' + '<figure>' + '<img src=\"' + img + '\" alt=\"' + o.title + '\">' + '</figure>' + '<strong>' + o.title + '</strong>' + '<div class=\"meta\">' + '<span><i class=\"fa fa-eye\"></i><em>' + o.hit + '</em></span>' + '<span><i class=\"fa fa-heart\"></i><em>' + (o.json.like ? o.json.like : 0) + '</em></span>' + '</div>' + '</a>' + '</div>';\n\t\t}).join('');\n\t},\n\n\t/**\n  * Get items\n  *\n  * @Param object params\n  * @Param function callback\n  */\n\taddItems: function addItems(params, callback) {\n\t\tvar ev = userData.environment;\n\t\tvar url = ev.root + '/ajax/';\n\t\tvar query = '';\n\n\t\turl += params.nest ? 'index/' + params.nest + '/' : ev.params.nest ? 'index/' + ev.params.nest + '/' : '';\n\t\turl += params.category ? params.category + '/' : ev.params.category ? ev.params.category + '/' : '';\n\n\t\tif (!params.nest && params.category === undefined) {\n\t\t\tquery += params.keyword ? '&keyword=' + params.keyword : ev.keyword ? '&keyword=' + ev.keyword : '';\n\t\t\tquery += '&page=' + (params.page ? params.page : ev.page);\n\t\t}\n\n\t\tquery += '&get=';\n\t\tquery += this.isPaginate ? 'print_paginate,' : '';\n\t\tquery += this.isNextpage ? 'print_moreitem,' : '';\n\t\tquery = query.replace(/^&/i, '?');\n\n\t\turl = url + query;\n\n\t\t$.getJSON(url, function (response) {\n\t\t\tif (callback) {\n\t\t\t\tcallback(response);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Refresh items\n  *\n  * @Param object data\n  * @Param bool isAddItems\n  * @Param function callback\n  */\n\trefreshItems: function refreshItems(data, isAddItems, callback) {\n\t\tvar _this2 = this;\n\n\t\ttry {\n\t\t\tif (data.state == 'success') {\n\t\t\t\t(function () {\n\t\t\t\t\tvar $items = data.articles.length ? $(_this2.template(data.articles)) : null;\n\t\t\t\t\tif ($items && $items.length) {\n\t\t\t\t\t\t// load images complete\n\t\t\t\t\t\t$items.imagesLoaded(function () {\n\n\t\t\t\t\t\t\tif (!isAddItems) {\n\t\t\t\t\t\t\t\t_this2.$grid.masonry(_this2.masonryOption);\n\t\t\t\t\t\t\t\tloading.hide();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// append items\n\t\t\t\t\t\t\t_this2.$grid.append($items).masonry('appended', $items);\n\n\t\t\t\t\t\t\t// initial go to article event\n\t\t\t\t\t\t\t_this2.gotoArticle($items);\n\n\t\t\t\t\t\t\t// play animation\n\t\t\t\t\t\t\t_this2.playGridItem($items, _this2.masonryDelay, _this2.showClassName);\n\n\t\t\t\t\t\t\t// update more item\n\t\t\t\t\t\t\tif (userData.preference.index.print_paginate && data.pageNavigation) {\n\t\t\t\t\t\t\t\t_this2.updatePaginate(data.pageNavigation);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// update more item page number\n\t\t\t\t\t\t\tif (userData.preference.index.print_moreitem) {\n\t\t\t\t\t\t\t\tif (data.nextpage) {\n\t\t\t\t\t\t\t\t\tif (_this2.$moreItem.hasClass('hide')) {\n\t\t\t\t\t\t\t\t\t\t_this2.$moreItem.removeClass('hide');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t_this2.updateMoreItemButton(data.nextpage);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_this2.$moreItem.addClass('hide');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// act callback\n\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow 'not found items';\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else if (data.state == 'error') {\n\t\t\t\tthrow data.message ? data.message : 'error';\n\t\t\t}\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t}\n\t},\n\n\t/**\n  * Load more items event\n  *\n  * @Param object $el\n  */\n\tloadMoreItems: function loadMoreItems($el) {\n\t\tvar _this3 = this;\n\n\t\tthis.$moreItem = $el;\n\t\tthis.$moreItem.on('click', function (e) {\n\t\t\tvar $self = $(e.currentTarget);\n\t\t\tvar nextpage = parseInt($self.attr('data-nextpage'));\n\t\t\tif ($self && $self.hasClass('loading')) return false;\n\t\t\t$self.addClass('loading');\n\t\t\t_this3.addItems({ page: nextpage }, function (response) {\n\t\t\t\t_this3.refreshItems(response, true, function () {\n\t\t\t\t\t$self.removeClass('loading');\n\t\t\t\t});\n\t\t\t\t// update URL\n\t\t\t\t_this3.updateURL({\n\t\t\t\t\tpage: nextpage\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Update more item button\n  *\n  * @Param int nextPage\n  */\n\tupdateMoreItemButton: function updateMoreItemButton(nextPage) {\n\t\tthis.$moreItem.attr('data-nextpage', nextPage);\n\t},\n\n\t/**\n  * Initial paginate event\n  *\n  * @Param object $paginate paginate element\n  */\n\tinitPaginateEvent: function initPaginateEvent($buttons) {\n\t\tvar _this4 = this;\n\n\t\t$buttons.on('click', function (e) {\n\t\t\tvar page = parseInt(e.currentTarget.getAttribute('data-key'));\n\n\t\t\t// destroy masonry and on loading\n\t\t\t_this4.destroyMasonry();\n\t\t\tloading.show(_this4.$loading);\n\n\t\t\t_this4.addItems({ page: page }, function (response) {\n\t\t\t\tif (response.article && response.article.length) return false;\n\t\t\t\t// refresh items\n\t\t\t\t_this4.refreshItems(response, false);\n\t\t\t\t// update URL\n\t\t\t\t_this4.updateURL({\n\t\t\t\t\tpage: page\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t},\n\n\t/**\n  * Update paginate\n  *\n  * @Param object data\n  */\n\tupdatePaginate: function updatePaginate(data) {\n\t\tif (!data.body) return false;\n\n\t\tvar keyword = userData.environment.keyword;\n\t\tvar url = location.pathname + '?';\n\t\tvar str = '';\n\n\t\tif (data.prev) {\n\t\t\tstr += '<a href=\"' + url + data.prev.url + '\" title=\"prev\" data-key=\"' + data.prev.id + '\"><i class=\"fa fa-caret-left\"></i></a>';\n\t\t}\n\t\tstr += data.body.map(function (o, k) {\n\t\t\treturn o.active ? '<strong>' + o.name + '</strong>' : '<a href=\"' + url + o.url + '\" data-key=\"' + o.id + '\">' + o.name + '</a>';\n\t\t}).join('');\n\t\tif (data.next) {\n\t\t\tstr += '<a href=\"' + url + data.next.url + '\" title=\"next\" data-key=\"' + data.next.id + '\"><i class=\"fa fa-caret-right\"></i></a>';\n\t\t}\n\n\t\tthis.$paginate.find('a').off('click');\n\t\tthis.$paginate.html(str);\n\t\tthis.initPaginateEvent(this.$paginate.find('a'));\n\t},\n\n\t/**\n  * Initial go to article event\n  *\n  * @Param object $items\n  */\n\tgotoArticle: function gotoArticle($items) {\n\t\t$items.children('a').on('click', function (e) {\n\t\t\tvar url = e.currentTarget.getAttribute('href');\n\t\t\tarticle.open(url);\n\t\t\thist.push({ target: 'article', url: url }, url, url);\n\t\t\treturn false;\n\t\t});\n\t},\n\n\t/**\n  * Update URL\n  *\n  * @Param object params\n  */\n\tupdateURL: function updateURL(params) {\n\t\tif (!hist.support()) return false;\n\n\t\tvar ev = userData.environment;\n\t\tvar url = '',\n\t\t    query = '';\n\n\t\tif (params.nest) {\n\t\t\turl += ev.root + '/';\n\t\t\turl += 'index/' + params.nest + '/';\n\t\t\turl += params.category ? params.category + '/' : '';\n\t\t} else {\n\t\t\turl += location.pathname;\n\t\t}\n\n\t\tquery = ev.keyword ? '&keyword=' + ev.keyword : '';\n\t\tquery += '&page=' + (params.page ? params.page : ev.page);\n\t\tquery = query.replace(/^&/i, '?');\n\n\t\turl = url + query;\n\n\t\twindow.currentUrl = url;\n\t\thist.push({ target: 'index', url: url }, url, url);\n\t}\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./Article.js\":2,\"./History.js\":3,\"./Loading.js\":6}],5:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nmodule.exports = {\n\n\t$dom: {},\n\n\t/**\n  * Initial scroll event\n  *\n  * @Param object params\n  */\n\tinit: function init(params) {\n\t\tthis.$dom.header = params.$header;\n\t},\n\n\t/**\n  * set event GNB form mobile\n  * set event toggle header contents from mobile\n  *\n  * @Param object params\n  */\n\tsetEventGnbFromMobile: function setEventGnbFromMobile(params) {\n\t\tvar $navToggleButtons = params.selector_toggleButtons;\n\t\tvar $toggleTargets = params.selector_targetElements;\n\n\t\t$navToggleButtons.on('click', function (e) {\n\t\t\tvar $current = $(e.currentTarget);\n\t\t\tvar target = $current.attr('data-target');\n\n\t\t\tif ($current.hasClass('on')) {\n\t\t\t\t$current.removeClass('on');\n\t\t\t\t$toggleTargets.removeClass('show');\n\t\t\t} else {\n\t\t\t\t$navToggleButtons.removeClass('on');\n\t\t\t\t$toggleTargets.removeClass('show');\n\t\t\t\t$current.addClass('on');\n\t\t\t\t$toggleTargets.filter('.' + target).addClass('show');\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Initial scroll event from header\n  */\n\tinitScrollEventFromHeader: function initScrollEventFromHeader() {\n\t\tvar self = this;\n\t\tvar $window = $(window);\n\t\tvar scrollTop = 0;\n\t\tvar hideHeader = false;\n\t\tvar timestamp = 0;\n\n\t\tthis.$dom.header.removeClass('hide');\n\n\t\tfunction on() {\n\t\t\tself.$dom.header.removeClass('hide');\n\t\t\tif (modules.article.$body) {\n\t\t\t\tmodules.article.$body.children('.external-buttons').removeClass('hide');\n\t\t\t}\n\t\t\thideHeader = false;\n\t\t}\n\t\tfunction off() {\n\t\t\tself.$dom.header.addClass('hide');\n\t\t\tif (modules.article.$body) {\n\t\t\t\tmodules.article.$body.children('.external-buttons').addClass('hide');\n\t\t\t}\n\t\t\thideHeader = true;\n\t\t}\n\n\t\t$window.on('scroll.header', function (e) {\n\t\t\tvar sctop = $window.scrollTop();\n\t\t\tif (sctop > $window.height() * 0.3) {\n\t\t\t\tif (scrollTop > sctop) {\n\t\t\t\t\tif (hideHeader) {\n\t\t\t\t\t\tif (e.timeStamp - timestamp < 300) return false;\n\t\t\t\t\t\ton();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!hideHeader) {\n\t\t\t\t\t\tif (e.timeStamp - timestamp < 100) return false;\n\t\t\t\t\t\toff();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (hideHeader) {\n\t\t\t\t\ton();\n\t\t\t\t}\n\t\t\t}\n\t\t\tscrollTop = sctop;\n\t\t\ttimestamp = e.timeStamp;\n\t\t});\n\t},\n\n\t/**\n  * Destroy scroll event from header\n  */\n\tdestroyScrollEventFromHeader: function destroyScrollEventFromHeader() {\n\t\t$(window).off('scroll.header');\n\t}\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],6:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nmodule.exports = function () {\n\tvar _this = this;\n\n\tthis.$el = null;\n\tthis.full = false;\n\n\t// loading elemnt\n\tthis.init = function ($target) {\n\t\t// set loading element\n\t\tvar $dom = $(_this.template());\n\n\t\t// set element\n\t\t_this.$el = $dom;\n\n\t\t// set is full\n\t\tif (_this.full) {\n\t\t\t$dom.addClass('full');\n\t\t}\n\n\t\t// append loading element\n\t\t$target.append($dom);\n\t};\n\n\tthis.template = function () {\n\t\treturn '<div class=\"loading\">' + '<div class=\"wrap\">' + '<div class=\"ui-loader\"></div>' + '<span class=\"message\">loading...</span>' + '</div>' + '</div>';\n\t};\n\n\t// show loading\n\tthis.show = function ($target) {\n\t\t$target = $target || $('body');\n\t\t_this.full = $target ? true : false;\n\t\t_this.init($target);\n\t\t_this.$el.addClass('show');\n\t};\n\n\t// hide loading\n\tthis.hide = function () {\n\t\t_this.$el.removeClass('show');\n\t\t_this.$el.remove();\n\t\t_this.$el = null;\n\t};\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}]},{},[1])\n\n","const $ = require('jquery');\nconst layout = require('./Layout.js');\nconst index = require('./Index.js');\nconst article = require('./Article.js');\nconst hist = require('./History.js');\n\n// set current url\nlet url = location.pathname + location.search;\n\nwindow.currentUrl = url;\nwindow.modules = {\n\tindex : index,\n\tarticle : article,\n\tlayout : layout\n};\n\n\n// set support css3\nif (CSS3.isSupport()) $('html').addClass('css3');\n\n\n\n// Header\n// -----------------------------------\n\nlet $header = $('#header');\nif ($header.length)\n{\n\tlayout.init({\n\t\t$header : $header\n\t});\n\n\t// act event layout\n\tlayout.setEventGnbFromMobile({\n\t\tselector_toggleButtons: $header.find('.toggle-buttons > button'),\n\t\tselector_targetElements: $header.find('.gnb, .keyword-search, .profile')\n\t});\n\n\t// init scroll event\n\tlayout.initScrollEventFromHeader();\n}\n\n\n\n// Index\n// -----------------------------------\n\nlet $photoIndex = $('#photoIndex');\nif ($photoIndex.length)\n{\n\t// init loading\n\tindex.initLoading($photoIndex.children('.loading-wrap'));\n\n\t// set masonry\n\tindex.setMasonry({\n\t\tmasonryOption : {\n\t\t\titemSelector: '.grid-item',\n\t\t\tcolumnWidth: '.grid-sizer',\n\t\t\ttransitionDuration : '0s',\n\t\t\thiddenStyle : {},\n\t\t\tvisibleStyle : {}\n\t\t},\n\t\tdelay : 100,\n\t\tshowClassName : 'show',\n\t\t$grid : $photoIndex.children('.index')\n\t});\n\n\t// more item event\n\tlet $moreItem = $photoIndex.children('.more-item');\n\tif (userData.preference.index.print_moreitem && $moreItem.length)\n\t{\n\t\tindex.isNextpage = true;\n\t\tindex.loadMoreItems($moreItem.children('button'));\n\t}\n\n\t// paginate\n\tlet $paginate = $photoIndex.children('.paginate');\n\tif (userData.preference.index.print_paginate && $paginate.length)\n\t{\n\t\tindex.isPaginate = true;\n\t\tindex.$paginate = $paginate;\n\t\tindex.initPaginateEvent(index.$paginate.find('a'));\n\t}\n\n\t// set History\n\thist.replace({ target : 'index', url : url }, url, url);\n}\n\n\n\n// Article\n// -----------------------------------\n\nlet $article = $('#article');\nif ($article.length)\n{\n\tarticle.init($article);\n\n\t// set History\n\thist.replace({ target : 'article', url : url }, url, url);\n}\n\n\n\n// on popstate\nhist.initPopEvent({\n\tarticle : article\n});\n","const $ = require('jquery');\nconst Loading = require('./Loading.js');\nconst hist = require('./History.js');\n\nvar loading = null;\n\nmodule.exports = {\n\n\t// set elements\n\t$body : null,\n\t$modal : null,\n\tscrollTop : 0,\n\tisModal : false,\n\tsaveURL : '',\n\tloading : new Loading(),\n\tactResize : false,\n\n\t/**\n\t * Keyboard event\n\t */\n\tkeyboardEvent : {\n\n\t\tself : null,\n\n\t\tinit(getThis)\n\t\t{\n\t\t\tthis.self = getThis;\n\t\t},\n\n\t\ton()\n\t\t{\n\t\t\tvar self = this.self;\n\t\t\tvar $externalButtons = self.$body.find('.external-buttons a.btn');\n\n\t\t\t$(window).on('keyup.article', (e) => {\n\t\t\t\tswitch(e.keyCode)\n\t\t\t\t{\n\t\t\t\t\t// esc\n\t\t\t\t\tcase 27:\n\t\t\t\t\t\tself.onClose();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// left\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tself.onGo($externalButtons.filter('.prev').get(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// right\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tself.onGo($externalButtons.filter('.next').get(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\toff()\n\t\t{\n\t\t\t$(window).off('keyup.article');\n\t\t}\n\t},\n\n\t/**\n\t * Get cookie value\n\t *\n\t * @Param string name\n\t * @Return string\n\t */\n\tgetCookie(name)\n\t{\n\t\tname += '=';\n\t\tlet cookieData = document.cookie;\n\t\tlet start = cookieData.indexOf(name);\n\t\tlet value = '';\n\n\t\tif (start != -1)\n\t\t{\n\t\t\tstart += name.length;\n\t\t\tlet end = cookieData.indexOf(';', start);\n\t\t\tif(end == -1)end = cookieData.length;\n\t\t\tvalue = cookieData.substring(start, end);\n\t\t}\n\t\treturn value;\n\t},\n\n\t/**\n\t * Set cookie value\n\t *\n\t * @Param string name\n\t * @Param string value\n\t * @Param int cDay\n\t */\n\tsetCookie(name, value, cDay)\n\t{\n\t\tlet expire = new Date();\n\t\tlet cookies = name + '=' + value + '; path=/ ';\n\t\texpire.setDate(expire.getDate() + cDay);\n\t\tcookies += (typeof cDay != 'undefined') ? ';expires=' + expire.toGMTString() + ';' : '';\n\t\tdocument.cookie = cookies;\n\t},\n\n\t/**\n\t * Initial\n\t *\n\t * @Param object $getArticle\n\t */\n\tinit($getArticle)\n\t{\n\t\tif (!$getArticle || !$getArticle.length) return false;\n\n\t\t// set article body element\n\t\tthis.$body = $getArticle;\n\n\t\t// act init on like event\n\t\tthis.initButtonsEvent();\n\n\t\t// init keyboard event\n\t\tthis.keyboardEvent.init(this);\n\n\t\t// on keyboard event\n\t\tthis.keyboardEvent.on();\n\n\t\t// init resize event\n\t\tthis.initResizeEvent();\n\t},\n\n\t/**\n\t * On like\n\t *\n\t * @Param object e\n\t */\n\tonLike(e)\n\t{\n\t\tlet btn = e.currentTarget;\n\t\tlet srl = parseInt(btn.getAttribute('data-srl'), 10);\n\t\tlet url = userData.environment.root + '/ajax/upLike/' + srl + '/';\n\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\t\t\tmethod: 'get',\n\t\t\tdataType: 'json',\n\t\t\theaders: {'Accept': 'application=' + userData.preference.meta.headerKey + ';'}\n\t\t}).done((response) => {\n\t\t\tif (response.state == 'success')\n\t\t\t{\n\t\t\t\tlet $like = modules.article.$body.find('[data-bind=like]');\n\t\t\t\tlet count_like = parseInt($like.text(), 10);\n\t\t\t\t$like.text(count_like + 1);\n\t\t\t\t$(btn).prop('disabled', true);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlog('db error');\n\t\t\t\tlog(response);\n\t\t\t}\n\t\t}).fail((e) => {\n\t\t\tlog('server error');\n\t\t\tlog(e.responseText);\n\t\t});\n\t},\n\n\t/**\n\t * Initial on like event\n\t */\n\tinitButtonsEvent()\n\t{\n\t\t// on like\n\t\tthis.$body.find('.nav-bottom > .like').on('click', this.onLike);\n\n\t\tif (this.isModal)\n\t\t{\n\t\t\tlet $externalButtons = this.$body.find('.external-buttons .btn');\n\n\t\t\t// close\n\t\t\t$externalButtons.filter('.close').on('click', () => {\n\t\t\t\tthis.onClose()\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\t// prev and next\n\t\t\t$externalButtons.filter('a.prev,a.next').on('click', (e) => {\n\t\t\t\tthis.onGo(e.currentTarget);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Initial on resize event\n\t */\n\tinitResizeEvent()\n\t{\n\t\tif (!this.isModal) return false;\n\n\t\tthis.actResize = false;\n\t\t$(window).one('resize.article', () => {\n\t\t\tthis.actResize = true;\n\t\t});\n\t},\n\n\t/**\n\t * Modal template\n\t *\n\t * @Param object data\n\t */\n\tmodalTemplate()\n\t{\n\t\treturn '<div class=\"modal animate fixed\">' +\n\t\t\t'<span class=\"bg\"></span>' +\n\t\t\t'<div class=\"wrap\"></div>' +\n\t\t\t'</div>';\n\t},\n\n\t/**\n\t * Open modal\n\t *\n\t * @Param string url\n\t */\n\topen(url)\n\t{\n\t\tif (!url) return false;\n\n\t\tthis.isModal = true;\n\n\t\t// save scroll top\n\t\tthis.scrollTop = $(window).scrollTop();\n\n\t\t// set modal element\n\t\tthis.$modal = $(this.modalTemplate());\n\t\t$('body').append(this.$modal);\n\n\t\t// set param 'get'\n\t\tthis.get = '';\n\t\tif (userData.environment.params.nest)\n\t\t{\n\t\t\tthis.get = '&get=nest';\n\t\t\tthis.get += (userData.environment.params.category) ? ',category' : '';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.get = '&get=all';\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tthis.$modal.addClass('show');\n\t\t}, 30);\n\n\t\tCSS3.transitionEnd(this.$modal.get(0), (e) => {\n\t\t\t$('html').addClass('mode-modal');\n\t\t\tthis.$modal.removeClass('fixed animate show');\n\t\t\tthis.loading.show();\n\n\t\t\tthis.$modal.children('.wrap').load(url + '?popup=1' + this.get, (res) => {\n\t\t\t\tthis.loading.hide();\n\t\t\t\tthis.init(this.$modal.find('> .wrap > .article'));\n\t\t\t});\n\t\t});\n\n\t\t// save url\n\t\tthis.saveURL = location.pathname + location.search;\n\n\t\t// save current url\n\t\twindow.currentUrl = url;\n\n\t\t// off scroll event from header\n\t\twindow.modules.layout.destroyScrollEventFromHeader();\n\t},\n\n\t/**\n\t * On close\n\t */\n\tonClose()\n\t{\n\t\tif (this.isModal)\n\t\t{\n\t\t\thist.push({ target : 'index', url : this.saveURL }, this.saveURL, this.saveURL);\n\t\t\tthis.close();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet url = this.$body.find('.external-buttons .close').attr('href');\n\t\t\thist.push({ target : 'index', url : url }, url, url);\n\t\t\tlocation.href = url;\n\t\t}\n\t},\n\n\t/**\n\t * Close modal\n\t */\n\tclose()\n\t{\n\t\tif (!this.isModal) return false;\n\n\t\tvar scrollTopInModal = $(window).scrollTop();\n\n\t\t// disabled keyboard event\n\t\tthis.keyboardEvent.off();\n\n\t\t// set isModal is false\n\t\tthis.isModal = false;\n\t\tthis.$modal.addClass('fixed animate show');\n\t\tthis.$modal.children('.wrap').scrollTop(scrollTopInModal);\n\n\t\tsetTimeout(() => {\n\t\t\t$('html').removeClass('mode-modal').addClass('hidden-scroll');\n\t\t\t$(window).scrollTop(this.scrollTop);\n\t\t\tthis.$modal.removeClass('show');\n\n\t\t\t// refresh masonry from index\n\t\t\twindow.modules.index.refreshMasonry();\n\n\t\t\t// set current url\n\t\t\twindow.currentUrl = this.saveURL;\n\t\t}, 30);\n\n\t\tCSS3.transitionEnd(this.$modal.get(0), (e) => {\n\t\t\t$('html').removeClass('hidden-scroll');\n\t\t\tthis.$modal.remove();\n\t\t\tthis.$modal = null;\n\t\t\tthis.$body = null;\n\t\t\tthis.scrollTop = 0;\n\n\t\t\t// on scroll event from header\n\t\t\twindow.modules.layout.initScrollEventFromHeader();\n\t\t});\n\t},\n\n\t/**\n\t * On go\n\t *\n\t * @Param object btn\n\t */\n\tonGo(btn)\n\t{\n\t\tif (!btn) return false;\n\t\tlet url = btn.getAttribute('href');\n\n\t\thist.push({ target : 'article', url : url }, url, url);\n\n\t\tif (this.isModal)\n\t\t{\n\t\t\tthis.go(url);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlocation.reload();\n\t\t}\n\t},\n\n\t/**\n\t * Go url in article\n\t */\n\tgo(url)\n\t{\n\t\tlet $wrap = this.$modal.children('.wrap');\n\t\t// disabled keyboard event\n\t\tthis.keyboardEvent.off();\n\n\t\t// clear article\n\t\t$wrap.html('');\n\n\t\t// show loading\n\t\tthis.loading.show();\n\n\t\t$wrap.load(url + '?popup=1' + this.get, () => {\n\t\t\tthis.loading.hide();\n\t\t\tthis.init(this.$modal.find('> .wrap > .article'));\n\t\t});\n\n\t\t// save current url\n\t\twindow.currentUrl = url;\n\t}\n};","const $ = require('jquery');\n\nmodule.exports = {\n\n\tarticle : null,\n\n\t/**\n\t * Init loading\n\t *\n\t * @Param object $target\n\t * @Return bool\n\t */\n\tsupport()\n\t{\n\t\treturn (history.pushState) ? true : false;\n\t},\n\n\t/**\n\t * Push state\n\t *\n\t * @Param object environment\n\t * @Param string title\n\t * @Param string url\n\t */\n\tpush(environment, title, url)\n\t{\n\t\tif (!this.support()) return false;\n\t\tif (!url) return false;\n\n\t\thistory.pushState(\n\t\t\tenvironment || null,\n\t\t\ttitle || url,\n\t\t\turl);\n\t},\n\n\t/**\n\t * Push state\n\t *\n\t * @Param object environment\n\t * @Param string title\n\t * @Param string url\n\t */\n\treplace(environment, title, url)\n\t{\n\t\tif (!this.support()) return false;\n\t\tif (!url) return false;\n\n\t\thistory.replaceState(\n\t\t\tenvironment || null,\n\t\t\ttitle || url,\n\t\t\turl);\n\t},\n\n\t/**\n\t * Initial pop event\n\t *\n\t * @Param object params : {\n\t *   article : article module\n\t * }\n\t */\n\tinitPopEvent(params)\n\t{\n\t\tvar self = this;\n\t\tthis.article = params.article;\n\n\t\t$(window).on('popstate', (e) => {\n\t\t\tlet state = e.originalEvent.state;\n\n\t\t\tif (state && (window.currentUrl != state.url))\n\t\t\t{\n\n\t\t\t\tswitch(state.target)\n\t\t\t\t{\n\t\t\t\t\tcase 'index':\n\t\t\t\t\t\tif (self.article.isModal)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.article.close();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'article':\n\t\t\t\t\t\tif (this.article.isModal)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.article.go(state.url);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.article.open(state.url);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t});\n\t}\n};\n","const $ = require('jquery');\nconst masonry = require('masonry-layout');\nconst imagesLoaded = require('imagesLoaded');\nconst Loading = require('./Loading.js');\nconst article = require('./Article.js');\nconst hist = require('./History.js');\n\nvar loading = null;\n\n\nmodule.exports = {\n\n\t// set selector\n\t$grid : null,\n\t$paginate : null,\n\t$loading : null,\n\t$moreItem : null,\n\n\tmasonryOption : {},\n\n\t// delay animation\n\tmasonryDelay : 0,\n\n\t// show class name\n\tshowClassName : 'show',\n\n\t// paginate navigation\n\tisPaginate : false,\n\tisNextpage : false,\n\n\t/**\n\t * Init loading\n\t *\n\t * @Param object $target\n\t */\n\tinitLoading($target)\n\t{\n\t\tthis.$loading = $target;\n\t\tloading = new Loading();\n\t},\n\n\t/**\n\t * Set masonry\n\t *\n\t * @Param object options\n\t */\n\tsetMasonry(options)\n\t{\n\t\tif (!options.$grid) return false;\n\n\t\tthis.$grid = options.$grid || null;\n\t\tthis.masonryDelay = options.delay || this.masonryDelay;\n\t\tthis.masonryOption = options.masonryOption || this.masonryOption;\n\t\tthis.showClassName = options.showClassName || this.showClassName;\n\n\t\tvar $items = this.$grid.children(this.masonryOption.itemSelector);\n\n\t\t// show loading\n\t\tloading.show(this.$loading);\n\n\t\t// images loaded\n\t\t$items.imagesLoaded((e) => {\n\n\t\t\t// hide loading\n\t\t\tloading.hide();\n\n\t\t\t// show grid\n\t\t\tthis.$grid.addClass('show');\n\n\t\t\t// init masonry\n\t\t\tthis.$grid.masonry(options.masonryOption);\n\t\t\tif (this.masonryDelay > 0)\n\t\t\t{\n\t\t\t\t// play grid items\n\t\t\t\tthis.playGridItem(\n\t\t\t\t\t$items,\n\t\t\t\t\tthis.masonryDelay,\n\t\t\t\t\tthis.showClassName\n\t\t\t\t);\n\n\t\t\t\t// initial go to article event\n\t\t\t\tthis.gotoArticle($items);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Destroy masonry\n\t */\n\tdestroyMasonry()\n\t{\n\t\tthis.$grid.masonry('destroy');\n\t\tthis.$grid.children('.grid-item').remove();\n\t},\n\n\t/**\n\t * Refresh masonry\n\t */\n\trefreshMasonry()\n\t{\n\t\tthis.$grid.masonry('layout');\n\t},\n\n\t/**\n\t * Play grid item animation\n\t *\n\t * @Param array $items\n\t * @Param int delay\n\t * @Param string className\n\t */\n\tplayGridItem($items, delay, className)\n\t{\n\t\t$items.each((k, o) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\t$(o).addClass(className);\n\t\t\t}, k * delay);\n\t\t});\n\t},\n\n\t/**\n\t * Template\n\t *\n\t * @Param array data\n\t * @Return string\n\t */\n\ttemplate(data)\n\t{\n\t\tvar ev = userData.environment;\n\t\treturn data.map((o, k) => {\n\t\t\tlet url = ev.root + '/article/' + o.srl + '/';\n\t\t\tlet img = ev.gooseRoot + '/' + o.json.thumnail.url;\n\t\t\treturn ('<div class=\"grid-item\">' +\n\t\t\t\t\t'<a href=\"' + url + '\">' +\n\t\t\t\t\t\t'<figure>' +\n\t\t\t\t\t\t\t'<img src=\"' + img + '\" alt=\"' + o.title + '\">' +\n\t\t\t\t\t\t'</figure>' +\n\t\t\t\t\t\t'<strong>' + o.title + '</strong>' +\n\t\t\t\t\t\t'<div class=\"meta\">' +\n\t\t\t\t\t\t\t'<span><i class=\"fa fa-eye\"></i><em>' + o.hit + '</em></span>' +\n\t\t\t\t\t\t\t'<span><i class=\"fa fa-heart\"></i><em>' + ((o.json.like) ? o.json.like : 0) + '</em></span>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</a>' +\n\t\t\t\t'</div>');\n\t\t}).join('');\n\t},\n\n\t/**\n\t * Get items\n\t *\n\t * @Param object params\n\t * @Param function callback\n\t */\n\taddItems(params, callback)\n\t{\n\t\tlet ev = userData.environment;\n\t\tlet url = ev.root + '/ajax/';\n\t\tlet query = '';\n\n\t\turl += (params.nest) ? 'index/' + params.nest + '/' : ((ev.params.nest) ? 'index/' + ev.params.nest + '/' : '');\n\t\turl += (params.category) ? params.category + '/' : ((ev.params.category) ? ev.params.category + '/' : '');\n\n\t\tif (!params.nest && (params.category === undefined))\n\t\t{\n\t\t\tquery += (params.keyword) ? '&keyword=' + params.keyword : ((ev.keyword) ? '&keyword=' + ev.keyword : '');\n\t\t\tquery += '&page=' + ((params.page) ? params.page : ev.page);\n\t\t}\n\n\t\tquery += '&get=';\n\t\tquery += (this.isPaginate) ? 'print_paginate,' : '';\n\t\tquery += (this.isNextpage) ? 'print_moreitem,' : '';\n\t\tquery = query.replace(/^&/i, '?');\n\n\t\turl = url + query;\n\n\t\t$.getJSON(url, (response) => {\n\t\t\tif (callback)\n\t\t\t{\n\t\t\t\tcallback(response);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Refresh items\n\t *\n\t * @Param object data\n\t * @Param bool isAddItems\n\t * @Param function callback\n\t */\n\trefreshItems(data, isAddItems, callback)\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (data.state == 'success')\n\t\t\t{\n\t\t\t\tlet $items = (data.articles.length) ? $(this.template(data.articles)) : null;\n\t\t\t\tif ($items && $items.length)\n\t\t\t\t{\n\t\t\t\t\t// load images complete\n\t\t\t\t\t$items.imagesLoaded(() => {\n\n\t\t\t\t\t\tif (!isAddItems)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.$grid.masonry(this.masonryOption);\n\t\t\t\t\t\t\tloading.hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// append items\n\t\t\t\t\t\tthis.$grid.append($items).masonry('appended', $items);\n\n\t\t\t\t\t\t// initial go to article event\n\t\t\t\t\t\tthis.gotoArticle($items);\n\n\t\t\t\t\t\t// play animation\n\t\t\t\t\t\tthis.playGridItem($items, this.masonryDelay, this.showClassName);\n\n\t\t\t\t\t\t// update more item\n\t\t\t\t\t\tif (userData.preference.index.print_paginate && data.pageNavigation)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.updatePaginate(data.pageNavigation);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// update more item page number\n\t\t\t\t\t\tif (userData.preference.index.print_moreitem)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (data.nextpage)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (this.$moreItem.hasClass('hide'))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.$moreItem.removeClass('hide');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.updateMoreItemButton(data.nextpage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.$moreItem.addClass('hide');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// act callback\n\t\t\t\t\t\tif (callback)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthrow 'not found items';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (data.state == 'error')\n\t\t\t{\n\t\t\t\tthrow (data.message) ? data.message : 'error';\n\t\t\t}\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\talert(e);\n\t\t}\n\t},\n\n\n\t/**\n\t * Load more items event\n\t *\n\t * @Param object $el\n\t */\n\tloadMoreItems($el)\n\t{\n\t\tthis.$moreItem = $el;\n\t\tthis.$moreItem.on('click', (e) => {\n\t\t\tvar $self = $(e.currentTarget);\n\t\t\tvar nextpage = parseInt($self.attr('data-nextpage'));\n\t\t\tif ($self && $self.hasClass('loading')) return false;\n\t\t\t$self.addClass('loading');\n\t\t\tthis.addItems({ page : nextpage }, (response) => {\n\t\t\t\tthis.refreshItems(response, true, () => {\n\t\t\t\t\t$self.removeClass('loading');\n\t\t\t\t});\n\t\t\t\t// update URL\n\t\t\t\tthis.updateURL({\n\t\t\t\t\tpage : nextpage\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Update more item button\n\t *\n\t * @Param int nextPage\n\t */\n\tupdateMoreItemButton(nextPage)\n\t{\n\t\tthis.$moreItem.attr('data-nextpage', nextPage);\n\t},\n\n\n\t/**\n\t * Initial paginate event\n\t *\n\t * @Param object $paginate paginate element\n\t */\n\tinitPaginateEvent($buttons)\n\t{\n\t\t$buttons.on('click', (e) => {\n\t\t\tvar page = parseInt(e.currentTarget.getAttribute('data-key'));\n\n\t\t\t// destroy masonry and on loading\n\t\t\tthis.destroyMasonry();\n\t\t\tloading.show(this.$loading);\n\n\t\t\tthis.addItems({ page : page }, (response) => {\n\t\t\t\tif (response.article && response.article.length) return false;\n\t\t\t\t// refresh items\n\t\t\t\tthis.refreshItems(response, false);\n\t\t\t\t// update URL\n\t\t\t\tthis.updateURL({\n\t\t\t\t\tpage : page\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t},\n\n\t/**\n\t * Update paginate\n\t *\n\t * @Param object data\n\t */\n\tupdatePaginate(data)\n\t{\n\t\tif (!data.body) return false;\n\n\t\tlet keyword = userData.environment.keyword;\n\t\tvar url = location.pathname + '?';\n\t\tvar str = '';\n\n\t\tif (data.prev)\n\t\t{\n\t\t\tstr += '<a href=\"' + url + data.prev.url + '\" title=\"prev\" data-key=\"' + data.prev.id + '\"><i class=\"fa fa-caret-left\"></i></a>';\n\t\t}\n\t\tstr += data.body.map((o, k) => {\n\t\t\treturn (o.active) ? '<strong>' + o.name + '</strong>' : '<a href=\"' + url + o.url + '\" data-key=\"' + o.id + '\">' + o.name + '</a>';\n\t\t}).join('');\n\t\tif (data.next)\n\t\t{\n\t\t\tstr += '<a href=\"' + url + data.next.url + '\" title=\"next\" data-key=\"' + data.next.id + '\"><i class=\"fa fa-caret-right\"></i></a>';\n\t\t}\n\n\t\tthis.$paginate.find('a').off('click');\n\t\tthis.$paginate.html(str);\n\t\tthis.initPaginateEvent(this.$paginate.find('a'));\n\t},\n\n\n\t/**\n\t * Initial go to article event\n\t *\n\t * @Param object $items\n\t */\n\tgotoArticle($items)\n\t{\n\t\t$items.children('a').on('click', (e) => {\n\t\t\tlet url = e.currentTarget.getAttribute('href');\n\t\t\tarticle.open(url);\n\t\t\thist.push({ target : 'article', url : url }, url, url);\n\t\t\treturn false;\n\t\t});\n\t},\n\n\t/**\n\t * Update URL\n\t *\n\t * @Param object params\n\t */\n\tupdateURL(params)\n\t{\n\t\tif (!hist.support()) return false;\n\n\t\tlet ev = userData.environment;\n\t\tlet url = '', query = '';\n\n\t\tif (params.nest)\n\t\t{\n\t\t\turl += ev.root + '/';\n\t\t\turl += 'index/' + params.nest + '/';\n\t\t\turl += (params.category) ? params.category + '/' : '';\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl += location.pathname;\n\t\t}\n\n\t\tquery = (ev.keyword) ? '&keyword=' + ev.keyword : '';\n\t\tquery += '&page=' + ((params.page) ? params.page : ev.page);\n\t\tquery = query.replace(/^&/i, '?');\n\n\t\turl = url + query;\n\n\t\twindow.currentUrl = url;\n\t\thist.push({ target : 'index', url : url }, url, url);\n\t}\n};","const $ = require('jquery');\n\n\nmodule.exports = {\n\n\t$dom : {},\n\n\t/**\n\t * Initial scroll event\n\t *\n\t * @Param object params\n\t */\n\tinit(params)\n\t{\n\t\tthis.$dom.header = params.$header;\n\t},\n\n\t/**\n\t * set event GNB form mobile\n\t * set event toggle header contents from mobile\n\t *\n\t * @Param object params\n\t */\n\tsetEventGnbFromMobile(params)\n\t{\n\t\tvar $navToggleButtons = params.selector_toggleButtons;\n\t\tvar $toggleTargets = params.selector_targetElements;\n\n\t\t$navToggleButtons.on('click', (e) => {\n\t\t\tlet $current = $(e.currentTarget);\n\t\t\tlet target = $current.attr('data-target');\n\n\t\t\tif ($current.hasClass('on'))\n\t\t\t{\n\t\t\t\t$current.removeClass('on');\n\t\t\t\t$toggleTargets.removeClass('show');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$navToggleButtons.removeClass('on');\n\t\t\t\t$toggleTargets.removeClass('show');\n\t\t\t\t$current.addClass('on');\n\t\t\t\t$toggleTargets.filter('.' + target).addClass('show');\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Initial scroll event from header\n\t */\n\tinitScrollEventFromHeader()\n\t{\n\t\tvar self = this;\n\t\tvar $window = $(window);\n\t\tvar scrollTop = 0;\n\t\tvar hideHeader = false;\n\t\tvar timestamp = 0;\n\n\t\tthis.$dom.header.removeClass('hide');\n\n\t\tfunction on()\n\t\t{\n\t\t\tself.$dom.header.removeClass('hide');\n\t\t\tif (modules.article.$body)\n\t\t\t{\n\t\t\t\tmodules.article.$body.children('.external-buttons').removeClass('hide');\n\t\t\t}\n\t\t\thideHeader = false;\n\t\t}\n\t\tfunction off()\n\t\t{\n\t\t\tself.$dom.header.addClass('hide');\n\t\t\tif (modules.article.$body)\n\t\t\t{\n\t\t\t\tmodules.article.$body.children('.external-buttons').addClass('hide');\n\t\t\t}\n\t\t\thideHeader = true;\n\t\t}\n\n\t\t$window.on('scroll.header', (e) => {\n\t\t\tvar sctop = $window.scrollTop();\n\t\t\tif (sctop > ($window.height() * 0.3))\n\t\t\t{\n\t\t\t\tif (scrollTop > sctop)\n\t\t\t\t{\n\t\t\t\t\tif (hideHeader)\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((e.timeStamp - timestamp) < 300) return false;\n\t\t\t\t\t\ton();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (!hideHeader)\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((e.timeStamp - timestamp) < 100) return false;\n\t\t\t\t\t\toff();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (hideHeader)\n\t\t\t\t{\n\t\t\t\t\ton();\n\t\t\t\t}\n\t\t\t}\n\t\t\tscrollTop = sctop;\n\t\t\ttimestamp = e.timeStamp;\n\t\t});\n\t},\n\n\t/**\n\t * Destroy scroll event from header\n\t */\n\tdestroyScrollEventFromHeader()\n\t{\n\t\t$(window).off('scroll.header');\n\t}\n};\n","const $ = require('jquery');\n\nmodule.exports = function()\n{\n\tthis.$el = null;\n\tthis.full = false;\n\n\t// loading elemnt\n\tthis.init = ($target) => {\n\t\t// set loading element\n\t\tlet $dom = $(this.template());\n\n\t\t// set element\n\t\tthis.$el = $dom;\n\n\t\t// set is full\n\t\tif (this.full)\n\t\t{\n\t\t\t$dom.addClass('full');\n\t\t}\n\n\t\t// append loading element\n\t\t$target.append($dom);\n\t};\n\n\tthis.template = () => {\n\t\treturn '<div class=\"loading\">' +\n\t\t\t'<div class=\"wrap\">' +\n\t\t\t'<div class=\"ui-loader\"></div>' +\n\t\t\t'<span class=\"message\">loading...</span>' +\n\t\t\t'</div>' +\n\t\t\t'</div>';\n\t};\n\n\t// show loading\n\tthis.show = ($target) => {\n\t\t$target = $target || $('body');\n\t\tthis.full = ($target) ? true : false;\n\t\tthis.init($target);\n\t\tthis.$el.addClass('show');\n\t};\n\n\t// hide loading\n\tthis.hide = () => {\n\t\tthis.$el.removeClass('show');\n\t\tthis.$el.remove();\n\t\tthis.$el = null;\n\t}\n};\n"],"sourceRoot":"/source/"}